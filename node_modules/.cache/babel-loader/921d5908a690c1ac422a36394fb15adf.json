{"ast":null,"code":"// import React, { useState, useEffect } from \"react\";\n// import Base from \"../core/Base\";\n// import { Link } from \"react-router-dom\";\n// import {\n//   getCategories,\n//   getProduct,\n//   updateProduct\n// } from \"./helper/adminapicall\";\n// import { isAutheticated } from \"../auth/helper/index\";\n// const UpdateProduct = ({ match }) => {\n//   const { user, token } = isAutheticated();\n//   const [values, setValues] = useState({\n//     name: \"\",\n//     description: \"\",\n//     price: \"\",\n//     stock: \"\",\n//     photo: \"\",\n//     categories: [],\n//     category: \"\",\n//     loading: false,\n//     error: \"\",\n//     createdProduct: \"\",\n//     getaRedirect: false,\n//     formData: \"\"\n//   });\n//   const {\n//     name,\n//     description,\n//     price,\n//     stock,\n//     categories,\n//     category,\n//     loading,\n//     error,\n//     createdProduct,\n//     getaRedirect,\n//     formData\n//   } = values;\n//   const preload = productId => {\n//     getProduct(productId).then(data => {\n//       //console.log(data);\n//       if (data.error) {\n//         setValues({ ...values, error: data.error });\n//       } else {\n//         preloadCategories();\n//         setValues({\n//           ...values,\n//           name: data.name,\n//           description: data.description,\n//           price: data.price,\n//           category: data.category._id,\n//           stock: data.stock,\n//           formData: new FormData()\n//         });\n//       }\n//     });\n//   };\n//   const preloadCategories = () => {\n//     getCategories().then(data => {\n//       if (data.error) {\n//         setValues({ ...values, error: data.error });\n//       } else {\n//         setValues({\n//           categories: data,\n//           formData: new FormData()\n//         });\n//       }\n//     });\n//   };\n//   useEffect(() => {\n//     preload(match.params.productId);\n//   }, []);\n//   //TODO: work on it\n//   const onSubmit = event => {\n//     event.preventDefault();\n//     setValues({ ...values, error: \"\", loading: true });\n//     updateProduct(match.params.productId, user._id, token, formData).then(\n//       data => {\n//         if (data.error) {\n//           setValues({ ...values, error: data.error });\n//         } else {\n//           setValues({\n//             ...values,\n//             name: \"\",\n//             description: \"\",\n//             price: \"\",\n//             photo: \"\",\n//             stock: \"\",\n//             loading: false,\n//             createdProduct: data.name\n//           });\n//         }\n//       }\n//     );\n//   };\n//   const handleChange = name => event => {\n//     const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n//     formData.set(name, value);\n//     setValues({ ...values, [name]: value });\n//   };\n//   const successMessage = () => (\n//     <div\n//       className=\"alert alert-success mt-3\"\n//       style={{ display: createdProduct ? \"\" : \"none\" }}\n//     >\n//       <h4>{createdProduct} updated successfully</h4>\n//     </div>\n//   );\n//   const createProductForm = () => (\n//     <form>\n//       <span>Post photo</span>\n//       <div className=\"form-group\">\n//         <label className=\"btn btn-block btn-success\">\n//           <input\n//             onChange={handleChange(\"photo\")}\n//             type=\"file\"\n//             name=\"photo\"\n//             accept=\"image\"\n//             placeholder=\"choose a file\"\n//           />\n//         </label>\n//       </div>\n//       <div className=\"form-group\">\n//         <input\n//           onChange={handleChange(\"name\")}\n//           name=\"photo\"\n//           className=\"form-control\"\n//           placeholder=\"Name\"\n//           value={name}\n//         />\n//       </div>\n//       <div className=\"form-group\">\n//         <textarea\n//           onChange={handleChange(\"description\")}\n//           name=\"photo\"\n//           className=\"form-control\"\n//           placeholder=\"Description\"\n//           value={description}\n//         />\n//       </div>\n//       <div className=\"form-group\">\n//         <input\n//           onChange={handleChange(\"price\")}\n//           type=\"number\"\n//           className=\"form-control\"\n//           placeholder=\"Price\"\n//           value={price}\n//         />\n//       </div>\n//       <div className=\"form-group\">\n//         <select\n//           onChange={handleChange(\"category\")}\n//           className=\"form-control\"\n//           placeholder=\"Category\"\n//         >\n//           <option>Select</option>\n//           {categories &&\n//             categories.map((cate, index) => (\n//               <option key={index} value={cate._id}>\n//                 {cate.name}\n//               </option>\n//             ))}\n//         </select>\n//       </div>\n//       <div className=\"form-group\">\n//         <input\n//           onChange={handleChange(\"stock\")}\n//           type=\"number\"\n//           className=\"form-control\"\n//           placeholder=\"Stock\"\n//           value={stock}\n//         />\n//       </div>\n//       <button\n//         type=\"submit\"\n//         onClick={onSubmit}\n//         className=\"btn btn-outline-success mb-3\"\n//       >\n//         Update Product\n//       </button>\n//     </form>\n//   );\n//   return (\n//     <Base\n//       title=\"Add a product here!\"\n//       description=\"Welcome to product creation section\"\n//       className=\"container bg-info p-4\"\n//     >\n//       <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\n//         Admin Home\n//       </Link>\n//       <div className=\"row bg-dark text-white rounded\">\n//         <div className=\"col-md-8 offset-md-2\">\n//           {successMessage()}\n//           {createProductForm()}\n//         </div>\n//       </div>\n//     </Base>\n//   );\n// };\n// export default UpdateProduct;","map":{"version":3,"sources":["/home/shebin/Desktop/allen/src/admin/UpdateProduct.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import React, { useState, useEffect } from \"react\";\n// import Base from \"../core/Base\";\n// import { Link } from \"react-router-dom\";\n// import {\n//   getCategories,\n//   getProduct,\n//   updateProduct\n// } from \"./helper/adminapicall\";\n// import { isAutheticated } from \"../auth/helper/index\";\n\n// const UpdateProduct = ({ match }) => {\n//   const { user, token } = isAutheticated();\n\n//   const [values, setValues] = useState({\n//     name: \"\",\n//     description: \"\",\n//     price: \"\",\n//     stock: \"\",\n//     photo: \"\",\n//     categories: [],\n//     category: \"\",\n//     loading: false,\n//     error: \"\",\n//     createdProduct: \"\",\n//     getaRedirect: false,\n//     formData: \"\"\n//   });\n\n//   const {\n//     name,\n//     description,\n//     price,\n//     stock,\n//     categories,\n//     category,\n//     loading,\n//     error,\n//     createdProduct,\n//     getaRedirect,\n//     formData\n//   } = values;\n\n//   const preload = productId => {\n//     getProduct(productId).then(data => {\n//       //console.log(data);\n//       if (data.error) {\n//         setValues({ ...values, error: data.error });\n//       } else {\n//         preloadCategories();\n//         setValues({\n//           ...values,\n//           name: data.name,\n//           description: data.description,\n//           price: data.price,\n//           category: data.category._id,\n//           stock: data.stock,\n//           formData: new FormData()\n//         });\n//       }\n//     });\n//   };\n\n//   const preloadCategories = () => {\n//     getCategories().then(data => {\n//       if (data.error) {\n//         setValues({ ...values, error: data.error });\n//       } else {\n//         setValues({\n//           categories: data,\n//           formData: new FormData()\n//         });\n//       }\n//     });\n//   };\n\n//   useEffect(() => {\n//     preload(match.params.productId);\n//   }, []);\n\n//   //TODO: work on it\n//   const onSubmit = event => {\n//     event.preventDefault();\n//     setValues({ ...values, error: \"\", loading: true });\n\n//     updateProduct(match.params.productId, user._id, token, formData).then(\n//       data => {\n//         if (data.error) {\n//           setValues({ ...values, error: data.error });\n//         } else {\n//           setValues({\n//             ...values,\n//             name: \"\",\n//             description: \"\",\n//             price: \"\",\n//             photo: \"\",\n//             stock: \"\",\n//             loading: false,\n//             createdProduct: data.name\n//           });\n//         }\n//       }\n//     );\n//   };\n\n//   const handleChange = name => event => {\n//     const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n//     formData.set(name, value);\n//     setValues({ ...values, [name]: value });\n//   };\n\n//   const successMessage = () => (\n//     <div\n//       className=\"alert alert-success mt-3\"\n//       style={{ display: createdProduct ? \"\" : \"none\" }}\n//     >\n//       <h4>{createdProduct} updated successfully</h4>\n//     </div>\n//   );\n\n//   const createProductForm = () => (\n//     <form>\n//       <span>Post photo</span>\n//       <div className=\"form-group\">\n//         <label className=\"btn btn-block btn-success\">\n//           <input\n//             onChange={handleChange(\"photo\")}\n//             type=\"file\"\n//             name=\"photo\"\n//             accept=\"image\"\n//             placeholder=\"choose a file\"\n//           />\n//         </label>\n//       </div>\n//       <div className=\"form-group\">\n//         <input\n//           onChange={handleChange(\"name\")}\n//           name=\"photo\"\n//           className=\"form-control\"\n//           placeholder=\"Name\"\n//           value={name}\n//         />\n//       </div>\n//       <div className=\"form-group\">\n//         <textarea\n//           onChange={handleChange(\"description\")}\n//           name=\"photo\"\n//           className=\"form-control\"\n//           placeholder=\"Description\"\n//           value={description}\n//         />\n//       </div>\n//       <div className=\"form-group\">\n//         <input\n//           onChange={handleChange(\"price\")}\n//           type=\"number\"\n//           className=\"form-control\"\n//           placeholder=\"Price\"\n//           value={price}\n//         />\n//       </div>\n//       <div className=\"form-group\">\n//         <select\n//           onChange={handleChange(\"category\")}\n//           className=\"form-control\"\n//           placeholder=\"Category\"\n//         >\n//           <option>Select</option>\n//           {categories &&\n//             categories.map((cate, index) => (\n//               <option key={index} value={cate._id}>\n//                 {cate.name}\n//               </option>\n//             ))}\n//         </select>\n//       </div>\n//       <div className=\"form-group\">\n//         <input\n//           onChange={handleChange(\"stock\")}\n//           type=\"number\"\n//           className=\"form-control\"\n//           placeholder=\"Stock\"\n//           value={stock}\n//         />\n//       </div>\n\n//       <button\n//         type=\"submit\"\n//         onClick={onSubmit}\n//         className=\"btn btn-outline-success mb-3\"\n//       >\n//         Update Product\n//       </button>\n//     </form>\n//   );\n\n//   return (\n//     <Base\n//       title=\"Add a product here!\"\n//       description=\"Welcome to product creation section\"\n//       className=\"container bg-info p-4\"\n//     >\n//       <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\n//         Admin Home\n//       </Link>\n//       <div className=\"row bg-dark text-white rounded\">\n//         <div className=\"col-md-8 offset-md-2\">\n//           {successMessage()}\n//           {createProductForm()}\n//         </div>\n//       </div>\n//     </Base>\n//   );\n// };\n\n// export default UpdateProduct;\n"]},"metadata":{},"sourceType":"module"}