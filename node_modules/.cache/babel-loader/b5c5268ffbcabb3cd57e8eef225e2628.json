{"ast":null,"code":"var _jsxFileName = \"/home/shebin/Desktop/lcomernbootcamp/projfrontend/src/admin/ManageCategories.js\";\nimport React from 'react';\nimport { getCategories, deleteCategory } from './helper/adminapicall';\nimport { useState } from 'react';\nimport { isAutheticated } from '../auth/helper';\nimport Base from '../core/Base';\nimport { Link } from 'react-router-dom';\nimport { useEffect } from 'react';\nexport default function ManageCategories() {\n  const {\n    user,\n    token\n  } = isAutheticated();\n  const [category, setcategory] = useState([]);\n\n  const deleteaCategory = categoryId => {\n    deleteCategory(categoryId, user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n        console.log(category._id);\n      } else {\n        preload();\n      }\n    });\n  };\n\n  const preload = () => {\n    getCategories().then(data => {\n      if (data.error) {\n        console.log(data.err);\n      } else {\n        setcategory(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    preload();\n  }, []);\n  return React.createElement(Base, {\n    title: \"Welcome admin\",\n    description: \"Update Categories here!\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, category.length), category.map((category, index) => {\n    return React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      key: index,\n      value: category.value,\n      className: \"col-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, category.name)), React.createElement(\"div\", {\n      className: \"col-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: `/admin/category/update/${category._id}`,\n      className: \"btn btn-success mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Update\")), React.createElement(\"div\", {\n      className: \"col-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => {\n        deleteaCategory(category._id);\n      },\n      className: \"btn btn-danger mt-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(\"p\", {\n      className: \"text-warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"hii \", category.name)));\n  }));\n}","map":{"version":3,"sources":["/home/shebin/Desktop/lcomernbootcamp/projfrontend/src/admin/ManageCategories.js"],"names":["React","getCategories","deleteCategory","useState","isAutheticated","Base","Link","useEffect","ManageCategories","user","token","category","setcategory","deleteaCategory","categoryId","_id","then","data","error","console","log","preload","err","length","map","index","value","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,uBAA9C;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,eAAe,SAASC,gBAAT,GAA4B;AAE3C,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA;AAAP,MAAgBN,cAAc,EAApC;AAGA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;;AACA,QAAMU,eAAe,GAACC,UAAU,IAAE;AAChCZ,IAAAA,cAAc,CAACY,UAAD,EAAYL,IAAI,CAACM,GAAjB,EAAqBL,KAArB,CAAd,CAA0CM,IAA1C,CAA+CC,IAAI,IAAE;AACnD,UAAGA,IAAI,CAACC,KAAR,EAAc;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYT,QAAQ,CAACI,GAArB;AAED,OAJD,MAKI;AACFM,QAAAA,OAAO;AACR;AACF,KATD;AAUD,GAXD;;AAaA,QAAMA,OAAO,GAAC,MAAI;AAChBpB,IAAAA,aAAa,GAAGe,IAAhB,CAAqBC,IAAI,IAAE;AACzB,UAAGA,IAAI,CAACC,KAAR,EAAc;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACK,GAAjB;AACD,OAFD,MAGI;AACFV,QAAAA,WAAW,CAACK,IAAD,CAAX;AACD;AACF,KAPD;AAQD,GATD;;AAWAV,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,OAAO;AACR,GAFQ,EAEN,EAFM,CAAT;AAME,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAC,eAAZ;AAA4B,IAAA,WAAW,EAAC,yBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIV,QAAQ,CAACY,MAAb,CADA,EAECZ,QAAQ,CAACa,GAAT,CAAa,CAACb,QAAD,EAAUc,KAAV,KAAkB;AAC9B,WACF;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAK,MAAA,GAAG,EAAEA,KAAV;AAAiB,MAAA,KAAK,EAAEd,QAAQ,CAACe,KAAjC;AAAwC,MAAA,SAAS,EAAC,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKf,QAAQ,CAACgB,IAAd,CADE,CAFF,EAOI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAG,0BAAyBhB,QAAQ,CAACI,GAAI,EAAjD;AAAqD,MAAA,SAAS,EAAC,sBAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,CAPJ,EAWI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAQ,MAAA,OAAO,EAAE,MAAI;AACnBF,QAAAA,eAAe,CAACF,QAAQ,CAACI,GAAV,CAAf;AACD,OAFD;AAEG,MAAA,SAAS,EAAC,qBAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,EAIA;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAkCJ,QAAQ,CAACgB,IAA3C,CAJA,CAXJ,CADE;AAuBA,GAxBD,CAFD,CADF;AAgCD","sourcesContent":["import React from 'react'\nimport { getCategories, deleteCategory } from './helper/adminapicall'\nimport { useState } from 'react'\nimport { isAutheticated } from '../auth/helper';\nimport Base from '../core/Base';\nimport { Link } from 'react-router-dom';\nimport { useEffect } from 'react';\nexport default function ManageCategories() {\n\nconst {user, token} = isAutheticated();\n\n\nconst [category, setcategory] = useState([]);\nconst deleteaCategory=categoryId=>{\n  deleteCategory(categoryId,user._id,token).then(data=>{\n    if(data.error){\n      console.log(data.error)\n      console.log(category._id)\n\n    }\n    else{\n      preload();\n    }\n  })\n}\n\nconst preload=()=>{\n  getCategories().then(data=>{\n    if(data.error){\n      console.log(data.err)\n    }\n    else{\n      setcategory(data);\n    }\n  })\n}\n\nuseEffect(() => {\n  preload()\n}, [])\n\n\n\n  return (\n    <Base title=\"Welcome admin\" description=\"Update Categories here!\">\n    <p>{category.length}</p>\n    {category.map((category,index)=>{\n      return(\n    <div className=\"row\">\n\n      <div key={index} value={category.value} className=\"col-4\">\n    <h3>{category.name}</h3>\n    </div>\n        \n        \n        <div className=\"col-4\">\n        <Link to={`/admin/category/update/${category._id}`}  className=\"btn btn-success mb-4\">Update</Link>\n        </div>\n\n        <div className=\"col-4\">\n        <button onClick={()=>{\n          deleteaCategory(category._id);\n        }} className=\"btn btn-danger mt-6\">Delete</button>\n        <p className=\"text-warning\" >hii {category.name}</p>\n\n        </div>\n\n\n    </div>\n\n    )})}\n    \n    </Base>\n\n  )\n}"]},"metadata":{},"sourceType":"module"}