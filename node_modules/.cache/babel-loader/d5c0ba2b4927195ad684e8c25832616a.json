{"ast":null,"code":"var _jsxFileName = \"/home/shebin/Desktop/lcomernbootcamp/projfrontend/src/admin/UpdateCategory.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Base from \"../core/Base\";\nimport { isAutheticated } from \"../auth/helper\";\nimport { Link } from \"react-router-dom\";\nimport { getaCategory, updateCategory } from \"./helper/adminapicall\";\n\nconst UpdateCategory = ({\n  match\n}) => {\n  const [name, setName] = useState();\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const getCategoryName = () => {\n    getaCategory(match.params.categoryId).then(data => {\n      if (data.error) {\n        setName(\"\");\n      } else {\n        setName(data.name);\n      }\n    });\n  };\n\n  useEffect(() => {\n    getCategoryName();\n  }, []); //    Destructure states\n\n  const {\n    user,\n    token\n  } = isAuthenticated(); // Back Button\n\n  const goBack = () => {\n    return React.createElement(\"div\", {\n      className: \"mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"btn btn-sm btn-info mb-3\",\n      to: \"/admin/dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"Back\"));\n  }; // Success Message\n\n\n  const successMessage = () => {\n    if (success) {\n      return React.createElement(\"h5\", {\n        className: \"text-success my-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Category updated successfully.\");\n    }\n  }; // Success Message\n\n\n  const errorMessage = () => {\n    if (error) {\n      return React.createElement(\"h5\", {\n        className: \"text-danger my-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Failed to update category.\");\n    }\n  }; // Handle changes in input\n\n\n  const handleChange = event => {\n    setError(\"\");\n    setName(event.target.value);\n  }; //    Form Submit Button\n\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setError(\"\");\n    setSuccess(false); //   Backend request fired\n\n    updateCategory(match.params.categoryId, user._id, token, {\n      name\n    }).then(data => {\n      if (data.error) {\n        setError(true);\n      } else {\n        setError(\"\");\n        setSuccess(true);\n        setName(\"\");\n      }\n    });\n  }; //   Form Goes here\n\n\n  const myCategoryForm = () => React.createElement(\"form\", {\n    className: \"mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"lead\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Enter new category name here\"), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control my-3\",\n    placeholder: \"For Ex. Summer\",\n    autoFocus: true,\n    required: true,\n    onChange: handleChange,\n    value: name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: onSubmit,\n    className: \"btn btn-outline-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Update Category\")));\n\n  return React.createElement(Base, {\n    title: \"Create category here\",\n    description: \"Add a new category for new t-shirts\",\n    className: \"container bg-info p-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row bg-white rounded\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-8 offset-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, successMessage(), errorMessage(), myCategoryForm(), goBack())));\n};\n\nexport default UpdateCategory;","map":{"version":3,"sources":["/home/shebin/Desktop/lcomernbootcamp/projfrontend/src/admin/UpdateCategory.js"],"names":["React","useState","useEffect","Base","isAutheticated","Link","getaCategory","updateCategory","UpdateCategory","match","name","setName","error","setError","success","setSuccess","getCategoryName","params","categoryId","then","data","user","token","isAuthenticated","goBack","successMessage","errorMessage","handleChange","event","target","value","onSubmit","preventDefault","_id","myCategoryForm"],"mappings":"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","sourcesContent":["\n\nimport React, { useState, useEffect } from \"react\";\nimport Base from \"../core/Base\";\nimport { isAutheticated } from \"../auth/helper\";\nimport { Link } from \"react-router-dom\";\nimport { getaCategory, updateCategory } from \"./helper/adminapicall\";\n\nconst UpdateCategory = ({ match }) => {\n   const [name, setName] = useState();\n   const [error, setError] = useState(false);\n   const [success, setSuccess] = useState(false);\n\n   const getCategoryName = () => {\n    getaCategory(match.params.categoryId).then((data) => {\n         if (data.error) {\n            setName(\"\");\n         } else {\n            setName(data.name);\n         }\n      });\n   };\n   useEffect(() => {\n      getCategoryName();\n   }, []);\n   //    Destructure states\n   const { user, token } = isAuthenticated();\n\n   // Back Button\n   const goBack = () => {\n      return (\n         <div className=\"mt-2\">\n            <Link className=\"btn btn-sm btn-info mb-3\" to=\"/admin/dashboard\">\n               Back\n            </Link>\n         </div>\n      );\n   };\n\n   // Success Message\n   const successMessage = () => {\n      if (success) {\n         return (\n            <h5 className=\"text-success my-2\">\n               Category updated successfully.\n            </h5>\n         );\n      }\n   };\n\n   // Success Message\n   const errorMessage = () => {\n      if (error) {\n         return (\n            <h5 className=\"text-danger my-2\">Failed to update category.</h5>\n         );\n      }\n   };\n\n   // Handle changes in input\n   const handleChange = (event) => {\n      setError(\"\");\n      setName(event.target.value);\n   };\n\n   //    Form Submit Button\n   const onSubmit = (event) => {\n      event.preventDefault();\n      setError(\"\");\n      setSuccess(false);\n\n      //   Backend request fired\n      updateCategory(match.params.categoryId, user._id, token, { name }).then(\n         (data) => {\n            if (data.error) {\n               setError(true);\n            } else {\n               setError(\"\");\n               setSuccess(true);\n               setName(\"\");\n            }\n         }\n      );\n   };\n\n   //   Form Goes here\n   const myCategoryForm = () => (\n      <form className=\"mt-3\">\n         <div className=\"form-group\">\n            <p className=\"lead\">Enter new category name here</p>\n            <input\n               type=\"text\"\n               className=\"form-control my-3\"\n               placeholder=\"For Ex. Summer\"\n               autoFocus\n               required\n               onChange={handleChange}\n               value={name}\n            />\n            <button onClick={onSubmit} className=\"btn btn-outline-info\">\n               Update Category\n            </button>\n         </div>\n      </form>\n   );\n   return (\n      <Base\n         title=\"Create category here\"\n         description=\"Add a new category for new t-shirts\"\n         className=\"container bg-info p-4\"\n      >\n         <div className=\"row bg-white rounded\">\n            <div className=\"col-md-8 offset-md-2\">\n               {successMessage()}\n               {errorMessage()}\n               {myCategoryForm()}\n               {goBack()}\n            </div>\n         </div>\n      </Base>\n   );\n};\nexport default UpdateCategory;\n"]},"metadata":{},"sourceType":"module"}