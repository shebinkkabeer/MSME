{"ast":null,"code":"var _jsxFileName = \"/home/shebin/Desktop/lcomernbootcamp/projfrontend/src/core/Paymentb.js\";\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { isAutheticated } from '../auth/helper';\nimport DropIn from 'braintree-web-drop-in-react';\nimport { loadCart, cartEmpty } from './helper/cartHelper';\nimport { getmeToken, processPayment } from './helper/paymentBHelper';\nimport { createOrder } from './helper/orderHelper';\n\nconst Paymentb = ({\n  products,\n  setReload = f => f,\n  reload = undefined\n}) => {\n  const [info, setInfo] = useState({\n    loading: false,\n    success: false,\n    clientToken: null,\n    error: \"\",\n    instance: {}\n  });\n\n  const userId = isAutheticated() && isAutheticated().user._id;\n\n  const token = isAutheticated() && isAutheticated().token;\n\n  const getToken = (userId, token) => {\n    console.log(info);\n    getmeToken(userId, token).then(info => {\n      if (info === null || info === void 0 ? void 0 : info.error) {\n        setInfo({ ...info,\n          error: info.error\n        });\n      } else {\n        const clientToken = info.clientToken;\n        setInfo({\n          clientToken\n        });\n      }\n    });\n  };\n\n  const showbtdropIn = () => {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, info.clientToken !== null && products.length > 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(DropIn, {\n      options: {\n        authorization: info.clientToken\n      },\n      onInstance: instance => info.instance = instance,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Buy\")) : React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Please login\"));\n  };\n\n  useEffect(() => {\n    getToken(userId, token);\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"bt\"));\n};\n\nexport default Paymentb;","map":{"version":3,"sources":["/home/shebin/Desktop/lcomernbootcamp/projfrontend/src/core/Paymentb.js"],"names":["React","useState","useEffect","Link","isAutheticated","DropIn","loadCart","cartEmpty","getmeToken","processPayment","createOrder","Paymentb","products","setReload","f","reload","undefined","info","setInfo","loading","success","clientToken","error","instance","userId","user","_id","token","getToken","console","log","then","showbtdropIn","length","authorization"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,qBAApC;AACA,SAASC,UAAT,EAAqBC,cAArB,QAA2C,yBAA3C;AACA,SAASC,WAAT,QAA4B,sBAA5B;;AAGA,MAAMC,QAAQ,GAAC,CAAC;AAACC,EAAAA,QAAD;AAAUC,EAAAA,SAAS,GAACC,CAAC,IAAEA,CAAvB;AAAyBC,EAAAA,MAAM,GAACC;AAAhC,CAAD,KAA8C;AACzD,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBjB,QAAQ,CAAC;AAC7BkB,IAAAA,OAAO,EAAC,KADqB;AAE7BC,IAAAA,OAAO,EAAC,KAFqB;AAG7BC,IAAAA,WAAW,EAAC,IAHiB;AAI7BC,IAAAA,KAAK,EAAC,EAJuB;AAK7BC,IAAAA,QAAQ,EAAC;AALoB,GAAD,CAAhC;;AAQA,QAAMC,MAAM,GAACpB,cAAc,MAAMA,cAAc,GAAGqB,IAAjB,CAAsBC,GAAvD;;AACA,QAAMC,KAAK,GAACvB,cAAc,MAAMA,cAAc,GAAGuB,KAAjD;;AAEA,QAAMC,QAAQ,GAAC,CAACJ,MAAD,EAAQG,KAAR,KAAgB;AAC3BE,IAAAA,OAAO,CAACC,GAAR,CAAYb,IAAZ;AAEAT,IAAAA,UAAU,CAACgB,MAAD,EAAQG,KAAR,CAAV,CAAyBI,IAAzB,CAA8Bd,IAAI,IAAE;AAChC,UAAGA,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEK,KAAT,EAAe;AACXJ,QAAAA,OAAO,CAAC,EAAC,GAAGD,IAAJ;AAASK,UAAAA,KAAK,EAACL,IAAI,CAACK;AAApB,SAAD,CAAP;AACH,OAFD,MAEK;AACD,cAAMD,WAAW,GAACJ,IAAI,CAACI,WAAvB;AACAH,QAAAA,OAAO,CAAC;AAACG,UAAAA;AAAD,SAAD,CAAP;AACH;AACJ,KAPD;AAQH,GAXD;;AAcA,QAAMW,YAAY,GAAC,MAAI;AACnB,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCf,IAAI,CAACI,WAAL,KAAmB,IAAnB,IAA2BT,QAAQ,CAACqB,MAAT,GAAiB,CAA5C,GACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,MAAD;AACE,MAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAEjB,IAAI,CAACI;AAAtB,OADX;AAEE,MAAA,UAAU,EAAGE,QAAD,IAAeN,IAAI,CAACM,QAAL,GAAgBA,QAF7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAKA;AAAQ,MAAA,OAAO,EAAE,MAAI,CAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALA,CADH,GAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBATH,CADJ;AAaH,GAdD;;AAiBArB,EAAAA,SAAS,CAAC,MAAM;AACZ0B,IAAAA,QAAQ,CAACJ,MAAD,EAAQG,KAAR,CAAR;AACH,GAFQ,EAEN,EAFM,CAAT;AAIA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ;AAKH,CApDD;;AAuDA,eAAehB,QAAf","sourcesContent":["import React, { useState } from 'react'\nimport { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { isAutheticated } from '../auth/helper';\nimport DropIn from 'braintree-web-drop-in-react';\nimport { loadCart, cartEmpty } from './helper/cartHelper';\nimport { getmeToken, processPayment } from './helper/paymentBHelper';\nimport { createOrder } from './helper/orderHelper';\n\n\nconst Paymentb=({products,setReload=f=>f,reload=undefined})=>{\n    const [info, setInfo] = useState({\n        loading:false,\n        success:false,\n        clientToken:null,\n        error:\"\",\n        instance:{}\n    });\n\n    const userId=isAutheticated() && isAutheticated().user._id;\n    const token=isAutheticated() && isAutheticated().token;\n\n    const getToken=(userId,token)=>{\n        console.log(info);\n        \n        getmeToken(userId,token).then(info=>{\n            if(info?.error){\n                setInfo({...info,error:info.error})\n            }else{\n                const clientToken=info.clientToken;\n                setInfo({clientToken})\n            }\n        })\n    }\n\n\n    const showbtdropIn=()=>{\n        return(\n            <div>\n            {info.clientToken!==null && products.length >0 ?(\n                <div>\n                <DropIn\n                  options={{ authorization: info.clientToken }}\n                  onInstance={(instance) => (info.instance = instance)}\n                />\n                <button onClick={()=>{}}>Buy</button>\n              </div>\n            ):(<h3>Please login</h3>)}\n            </div>\n        )\n    }\n\n    \n    useEffect(() => {\n        getToken(userId,token)\n    }, [])\n    \n    return (\n        <div>\n            <h3>bt</h3>\n        </div>\n    )\n}\n\n\nexport default Paymentb;\n"]},"metadata":{},"sourceType":"module"}